@use '../mixins/_utilities' as *;
@use 'sass:math';
@use '../mixins/glass' as *;
@use '../mixins/utilities' as *; // Import new utilities

.glass-dropdown {
  position: relative;
  width: 100%;
  max-width: 300px;

  .dropdown-trigger-input {
    cursor: pointer;
    // Add a small dropdown icon/indicator (using a background image or SVG here)
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 20 20'%3E%3Cpath fill='%23999' d='M5 8l5 5 5-5z'/%3E%3C/svg%3E");
    background-repeat: no-repeat;
    background-position: right 10px center;
    padding-right: 30px;
  }

  .dropdown-menu {
    @include apply-liquid-glass($material-opacity: 0.8); // Used mixin to define glass style
    position: absolute;
    left: 0;
    z-index: 8000;
    max-height: 200px;
    overflow-y: auto;
    padding: 8px 0;
    border-radius: 12px;
    box-shadow: 0 8px 15px rgba(0, 0, 0, 0.2); // Stronger shadow for floating menu

    // Menu items
    .menu-item {
      padding: 8px 16px;
      cursor: pointer;
      font-size: 15px;
      color: var(--color-text-primary);
      transition: background-color 0.1s ease;

      &:hover {
        background-color: rgba(var(--color-glass-rgb), 0.2);
      }

      &.is-selected {
        background-color: var(--color-accent);
        color: white;
      }
    }
  }
}
