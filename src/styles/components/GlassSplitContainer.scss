@use 'sass:math';
@use '@/styles/mixins/glass' as *;

/*
 * --------------------------------
 * BASE LAYOUT STYLES
 * --------------------------------
 */
.split-view-container {
  display: flex;
  height: 100vh;
  overflow: hidden;
  position: relative;
  background-color: transparent !important;
  /* Add a background here so the glass effect has something to blur! */
}

/* Panel Base Styles - Override conflicting colors/borders */
.split-view-primary,
.split-view-secondary {
  /* Use the padding defined in the glass-panel class */
  padding: 16px;
  overflow-y: auto;
  box-sizing: border-box;
  /* Must be transparent to allow the glass background styles to work */
  background-color: transparent !important;
  border-right: none !important;
}

/*
 * --------------------------------
 * DESKTOP/SPLIT LAYOUT
 * --------------------------------
 */
.split-view-primary {
  flex-shrink: 0;
}

.split-view-secondary {
  flex-grow: 1;
}

/*
 * --------------------------------
 * MOBILE/OVERLAY LAYOUT STYLES
 * --------------------------------
 */
.mobile-layout .split-view-primary,
.mobile-layout .split-view-secondary {
  /* Resetting styles for mobile overlay behavior */
  width: 100%;
  position: absolute;
  top: 0;
  left: 0;
  transition:
    transform 0.3s ease-in-out,
    visibility 0.3s;
}

/* Primary Panel Behavior (Slides Over Secondary) */
.mobile-layout .split-view-primary {
  z-index: 10;
}

.mobile-layout .split-view-primary.is-hidden {
  /* When hidden, slide it out of view to the left */
  transform: translateX(-100%);
  visibility: hidden;
}

/* Secondary Panel Behavior (Stays in place) */
.mobile-layout .split-view-secondary {
  z-index: 5;
}

/* Hide the secondary panel when the primary is showing (optional) */
.mobile-layout .split-view-secondary.is-hidden {
  visibility: hidden;
}

/* Toggle Button Styles (for mobile view only) */
.split-view-mobile-header {
  position: sticky;
  top: 0;
  padding-bottom: 10px;
  background: transparent; /* Keep header transparent for glass effect */
  z-index: 11; /* Ensure button is above the glass panel */
}

.split-view-toggle {
  position: absolute;
  bottom: 16px; /* Position toggle button */
  left: 16px;
  z-index: 11;
}

.split-view-mobile-header button,
.split-view-toggle button {
  padding: 8px 15px;
  border: none;
  background-color: #007aff; /* Apple Blue */
  color: white;
  border-radius: 5px;
  cursor: pointer;
}
